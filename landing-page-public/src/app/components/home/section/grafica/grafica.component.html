<!-- ======= Grafica Section ======= -->
<section id="grafica_{{ numGrafico }}" class="blog" *ngIf="sh == 1">
  <div class="container">
    <div class="box-1" data-aos="fade-up">
      <div class="section-title">
        <h2>{{ titleChart }}</h2>
      </div>
      <div
        class="row"
        data-aos="fade-up"
        data-aos-delay="200"
        style="position: relative; height: 100%"
      >
        <div class="col-lg-12 entries">
          <article class="entry">
            <div class="row">
              <div class="entry-content">
                <div style="display: grid">
                  <canvas
                    baseChart
                    [chartType]="chartType"
                    [datasets]="chartData"
                    [options]="chartOptions"
                    [colors]="chartColors"
                    [legend]="true"
                    [labels]="chartLabels"
                  >
                  </canvas>
                </div>
              </div>
            </div>
          </article>
          <div>
            <p style="font-size: 20px">
              {{ reportes_principal }}
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- Formulario -->
    <div class="box-2">
      <h5><b>Filtrar por:</b></h5>
      <form #fromgraph="ngForm" (ngSubmit)="ngOnSubmit()">
        <span style="margin: 0px 10px 0px 0px"
          ><i class="fas fa-search" style="color: white"></i
        ></span>
        <select
          name="select"
          ng-model="userQuery.TipoConsulta"
          [(ngModel)]="userQuery.TipoConsulta"
        >
          <option value="1" ng-selected="userQuery.TipoConsulta">
            Conductores
          </option>
          <option value="2">Clientes</option>
          <option value="3">Valoración Clientes</option>
          <option value="4">Valoración Conductores</option>
        </select>

        <label for="tipografica"
          ><br />
          <b>Tipo de gráfica</b></label
        >
        <br />
        <span style="margin: 0px 10px 0px 0px"
          ><i class="far fa-chart-bar" style="color: white"></i
        ></span>
        <select
          name="select"
          ng-model="userQuery.TipoConsulta"
          [(ngModel)]="userQuery.TipoGrafica"
        >
          <option value="1">Barras</option>
          <option value="2">Lineas</option>
          <option value="3">Polar</option>
          <option value="4">Pastel</option>
        </select>
        <br /><br />
        <label for="date"><b>Fecha inicial</b></label> <br />
        <span style="margin: 0px 10px 0px 0px">
          <i class="far fa-calendar-alt" style="color: white"></i
        ></span>
        <input
          type="date"
          name="fechainicio"
          id="fechainicio"
          placeholder="Ej: 2021-01-01"
          [(ngModel)]="userQuery.FechaHoraRegistro"
          min="2021-01-01"
          max="2022-09-01"
        />
        <br /><br />
        <label for="date"><b>Fecha Final</b></label> <br />
        <span style="margin: 0px 10px 0px 0px">
          <i class="far fa-calendar-alt" style="color: white"></i
        ></span>
        <input
          type="date"
          name="fechafin"
          id="fechafin"
          placeholder="Ej: 2022-12-31"
          [(ngModel)]="userQuery.FechaHoraFin"
          min="2021-01-02"
          max="2022-12-31"
        />
        <br />
        <br />
        <button type="submit">Consultar</button>
      </form>
    </div>
  </div>
</section>
<section id="pricing" class="pricing section-bg" *ngIf="sh == 1">
  <div class="recepcion" data-aos="fade-up">
    <div class="section-title">
      <h2>Percepción de los Usuarios</h2>
    </div>
    <h3 style="text-align: center; font-size: 40px"><b>Cliente</b></h3>
    <br />
    <h4 class="reporte">
      De los <b>{{ total_comentarios }}</b> comentarios registrados durante el
      <b>{{ fecha_inical }} al {{ fecha_final }}</b> los clientes percibieron el
      servicio de taxi ofrecido por la aplicación Ktaxi es un
      <b>{{ negativo }}%</b> negativo, <b>{{ neutral }}%</b> neutral y un
      <b>{{ positivo }}%</b> positivo.
    </h4>
    <div class="row">
      <div class="col-lg-4 col-md-6">
        <div
          class="box colorboxbad"
          data-aos="fade-up"
          data-aos-delay="100"
          style="font-size: 30px"
        >
          <b><p>Negativo</p></b>
          <i class="fas fa-sad-cry" style="font-size: 180px"></i>
          <h4>
            <b>{{ negativo }} %</b>
          </h4>
        </div>
      </div>

      <div class="col-lg-4 col-md-6 mt-4 mt-md-0">
        <div
          class="box colorboxneutral"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <b><p>Neutral</p></b>
          <i class="fas fa-meh" style="font-size: 180px"></i>
          <h4>
            <b>{{ neutral }} %</b>
          </h4>
        </div>
      </div>

      <div class="col-lg-4 col-md-6 mt-4 mt-lg-0">
        <div
          class="box colorboxpositivo"
          data-aos="fade-up"
          data-aos-delay="300"
        >
          <b><p>Positivo</p></b>
          <i class="fas fa-smile" style="font-size: 180px"></i>
          <h4>
            <b>{{ positivo }} %</b>
          </h4>
        </div>
      </div>
    </div>

    <h3 style="text-align: center; font-size: 40px; margin-top: 20px">
      <b>Conductor</b>
    </h3>
    <br />
    <h4 class="reporte">
      De los <b>{{ total_comentarios }}</b> comentarios registrados durante el
      <b>{{ fecha_inical }} al {{ fecha_final }}</b> los conductores perciben el
      servicio de taxi ofrecido por la aplicación Ktaxi es un
      <b>{{ negativo_conductor }}%</b> negativo,
      <b>{{ neutro_conductor }}%</b> neutral y un
      <b>{{ positivo_conductor }}%</b> positivo.
    </h4>
    <div class="row">
      <div class="col-lg-4 col-md-6">
        <div
          class="box colorboxbad"
          data-aos="fade-up"
          data-aos-delay="100"
          style="font-size: 44px"
        >
          <b><p>Negativo</p></b>
          <i class="fas fa-sad-cry" style="font-size: 180px"></i>
          <h4>
            <b>{{ negativo_conductor }} %</b>
          </h4>
        </div>
      </div>

      <div class="col-lg-4 col-md-6 mt-4 mt-md-0">
        <div
          class="box colorboxneutral"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <b><p>Neutral</p></b>
          <i class="fas fa-meh" style="font-size: 180px"></i>
          <h4>
            <b>{{ neutro_conductor }} %</b>
          </h4>
        </div>
      </div>

      <div class="col-lg-4 col-md-6 mt-4 mt-lg-0">
        <div
          class="box colorboxpositivo"
          data-aos="fade-up"
          data-aos-delay="300"
        >
          <b><p>Positivo</p></b>
          <i class="fas fa-smile" style="font-size: 180px"></i>
          <h4>
            <b>{{ positivo_conductor }} %</b>
          </h4>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Counts reviews -->
<!-- ======= Services Section ======= -->
<section id="services" class="services section-bg">
  <div class="container4" data-aos="fade-up">
    <div class="section-title">
      <h2>Medía de Calificación</h2>
    </div>
    <div class="row average">
      <div class="average">
        <h4>
          Al momento de calcular el promedio de los
          <b>{{ total_comentarios }}</b> comentarios realizados a partir del
          <b>{{ this.fecha_inical }} hasta el {{ fecha_final }}</b> se
          identifico que tanto los clientes como los conductores valoran al
          aplicativo con los siguientes valores
        </h4>
        <div class="row">
          <div class="col-lg-6 col-md-6 mt-4 mt-md-0">
            <p style="color: white"><b>Clientes</b></p>
            <p href="#">
              {{ average_notes }} / 5

              <i
                class="fas fa-star"
                style="color: #fabd2f; font-size: 80px"
              ></i>
            </p>
          </div>
          <div class="col-lg-6 col-md-6 mt-4 mt-md-0">
            <p style="color: white"><b>Conductores</b></p>
            <p href="#">
              {{ average_notes_conductor }} / 5
              <i
                class="fas fa-star"
                style="color: #fabd2f; font-size: 80px"
              ></i>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End Services Section -->
<!-- End Pricing Section -->
<section id="calificacion" class="pricing section-bg" *ngIf="sh == 1">
  <div class="container2" data-aos="fade-up">
    <div class="section-title">
      <h2>Valoración del aplicativo Según los Clientes</h2>
      <h4>
        De los <b>{{ total_comentarios }}</b> comentarios realizados durante el
        lapso de tiempo del {{ fecha_inical }} al <b>{{ fecha_final }}</b> por
        los usuarios han valorizado la aplicación empleando el siguiente rango:
      </h4>
    </div>
    <div class="row">
      <div class="col-lg-2 col-md-12">
        <div class="box" data-aos="fade-up" data-aos-delay="100">
          <i class="far fa-star stars" style="font-size: 150px"></i>
          <h4>
            <b>{{ valoracion_0 }} %</b>
          </h4>
          <span class="bad badextendedCero">
            <label>
              Estas personas no han brindado su perspectiva del aplicativo, por
              favor no olvides ingresar tus comentarios al finalizar el servicio
            </label>
          </span>
          <span class="Neutral badextendedCero"> </span>
        </div>
      </div>
      <div class="col-lg-2 col-md-6">
        <div class="box" data-aos="fade-up" data-aos-delay="100">
          <i class="fas fa-star stars" style="font-size: 150px"></i>
          <h4>
            <b>{{ valoracion_1 }} %</b>
          </h4>
          <div class="row">
            <span class="chip bad">
              <label>Canceló Solicitud</label>
            </span>
            <span class="chip bad">
              <label>Actitud Desagradable</label>
            </span>
            <span class="chip bad">
              <label>Cobro Inadecuado</label>
            </span>
            <span class="chip bad">
              <label>Mal estado del vehículo</label>
            </span>
            <span class="bad badextended">
              <label>Uso del Teléfono</label>
            </span>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-6">
        <div class="box" data-aos="fade-up" data-aos-delay="100">
          <i class="fas fa-star stars" style="font-size: 75px"></i>
          <br />
          <i class="fas fa-star stars" style="font-size: 75px"></i>
          <h4>
            <b>{{ valoracion_2 }} %</b>
          </h4>
          <div class="row">
            <span class="chip bad">
              <label>Canceló Solicitud</label>
            </span>
            <span class="chip bad">
              <label>Actitud Desagradable</label>
            </span>
            <span class="chip bad">
              <label>Cobro Inadecuado</label>
            </span>
            <span class="chip bad">
              <label>Mal estado del vehículo</label>
            </span>
            <span class="bad badextended">
              <label>Uso del Teléfono</label>
            </span>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-md-6">
        <div class="box" data-aos="fade-up" data-aos-delay="100">
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 10px 0px 0px"
          ></i>
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 0px 0px 10px"
          ></i>
          <br />
          <i class="fas fa-star stars" style="font-size: 75px"></i>
          <h4>
            <b>{{ valoracion_3 }} %</b>
          </h4>
          <div class="row">
            <span class="chip neutral">
              <label>Mejor Empleo del mapa</label>
            </span>
            <span class="chip neutral">
              <label>Que cobre lo justo</label>
            </span>
            <span class="chip neutral">
              <label>Mejorar la Puntualidad</label>
            </span>
            <span class="chip neutral">
              <label>Limpieza de Vehículo</label>
            </span>
            <span class="badextended neutral">
              <label>Trato al Cliente</label>
            </span>
          </div>
        </div>
      </div>

      <div class="col-lg-2 col-md-6 mt-4 mt-md-0">
        <div class="box" data-aos="fade-up" data-aos-delay="200">
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 10px 5px 0px"
          ></i>
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 0px 5px 10px"
          ></i>
          <br />
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 10px 0px 0px"
          ></i>
          <i
            class="fas fa-star stars"
            style="font-size: 75px; padding: 0px 0px 0px 10px"
          ></i>

          <h4>
            <b>{{ valoracion_4 }} %</b>
          </h4>
          <div class="row">
            <span class="chip great">
              <label>Mejore la Música/Volumen</label>
            </span>
            <span class="chip great">
              <label>Presentación Personal</label>
            </span>
            <span class="chip great">
              <label>Evitar el Claxon</label>
            </span>
            <span class="chip great">
              <label>Tener Cambio para cobrar</label>
            </span>
            <span class="badextended great">
              <label>Wifi/Carga de Celulares</label>
            </span>
          </div>
        </div>
      </div>

      <div class="col-lg-2 col-md-6 mt-4 mt-lg-0">
        <div class="box" data-aos="fade-up" data-aos-delay="300">
          <i
            class="fas fa-star stars"
            style="font-size: 50px; padding: 0px 20px 0px 0px"
          ></i>
          <i
            class="fas fa-star stars"
            style="font-size: 50px; padding: 0px 0px 0px 20px"
          ></i>
          <br />
          <i class="fas fa-star stars" style="font-size: 50px"></i>
          <br />
          <i
            class="fas fa-star stars"
            style="font-size: 50px; padding: 0px 20px 0px 0px"
          ></i>
          <i
            class="fas fa-star stars"
            style="font-size: 50px; padding: 0px 0px 0px 20px"
          ></i>
          <h4>
            <b>{{ valoracion_5 }} %</b>
          </h4>
          <div class="row">
            <span class="chip great">
              <label>Atento y Cordial</label>
            </span>
            <span class="chip great">
              <label>Viaje Agradable</label>
            </span>
            <span class="chip great">
              <label>Siempre llega a tiempo</label>
            </span>
            <span class="chip great">
              <label>Wifi/Carga de Celulares</label>
            </span>
            <span class="badextended great">
              <label>Servicio de Llamadas</label>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="podium section-bg">
  <div class="section-title">
    <h2>Conductores con más Carreras hechas</h2>
    <h4>
      <b>De las {{ total_comentarios }} </b> carreras realizadas, los 5
      <br />conductores con más carreras hechas son:
    </h4>
  </div>
  <div class="all">
    <div class="lefter">
      <p>
        <br />
        {{ podium4 }}
      </p>
      <div class="text">Conductor {{ conductor4 }}</div>
    </div>
    <div class="left">
      <p>
        <br />
        {{ podium2 }}
      </p>
      <div class="text">conductor {{ conductor2 }}</div>
    </div>
    <div class="center">
      <p>
        <br />
        {{ podium1 }}
      </p>
      <div class="explainer"><span>Conductores</span></div>

      <div class="text">Conductor {{ conductor1 }}</div>
    </div>
    <div class="right">
      <p>
        <br />
        {{ podium3 }}
      </p>
      <div class="text">Conductor {{ conductor3 }}</div>
    </div>
    <div class="righter">
      <p><br />{{ podium5 }}</p>
      <div class="text"><br />Conductor {{ conductor5 }}</div>
    </div>
  </div>
</section>
<!-- Final caliifación-->
